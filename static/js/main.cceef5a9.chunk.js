(this.webpackJsonphotdogs=this.webpackJsonphotdogs||[]).push([[0],{101:function(t,e,n){},103:function(t,e,n){},104:function(t,e,n){},105:function(t,e,n){},166:function(t,e,n){},204:function(t,e,n){},205:function(t,e,n){},206:function(t,e,n){},207:function(t,e,n){"use strict";n.r(e);var o=n(2),a=n(0),i=n.n(a),c=n(42),r=n.n(c),s=(n(97),n(7)),d=n(19),l=n(20),u=n(24),p=n(23),h=n(9),m=n(45),j=(n(101),function(t){var e=t.children,n=t.type,a=t.dropdown,i=t.inverted,c=t.form,r=t.disabled,s=t.style,d=Object(m.a)(t,["children","type","dropdown","inverted","form","disabled","style"]);return Object(o.jsx)("button",Object(h.a)(Object(h.a)({disabled:r,style:s,type:n,className:"".concat(i?"inverted":""," ").concat(a?"dropdown":""," custom-button ").concat(c?"form":"")},d),{},{children:e}))}),b=n(13),f=n.n(b),O=n(33),g="SET_HOTDOGS",x="TOGGLE_MODAL",v="https://hotdogswtf.herokuapp.com/api/hotdogs",y=function(t){return{type:x,payload:t}},w=function(){var t=Object(O.a)(f.a.mark((function t(e,n){var o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(v),t.next=3,fetch(v).then((function(t){return t.json()}));case 3:o=t.sent,e({type:g,payload:o});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),k=(n(103),Object(s.b)(null,(function(t){return{showModal:function(e){return t(y(e))}}}))((function(t){var e=t.showModal;return Object(o.jsxs)("header",{children:[Object(o.jsxs)("div",{className:"logo",children:[Object(o.jsx)("img",{src:"https://ocj.com/wp-content/uploads/2016/12/hotdogBig.png",alt:"hotdog"}),Object(o.jsx)("span",{children:"crud"})]}),Object(o.jsx)("span",{children:Object(o.jsx)(j,{onClick:function(){return e(!0)},children:"add hotdog"})})]})}))),S=(n(104),n(105),n(209)),N=n(208),C=function(t){var e=t.input,n=t.type,a=t.placeholder,i=t.id,c=t.meta,r=c.touched,s=c.error;Object(m.a)(t,["input","type","placeholder","id","meta"]);return Object(o.jsxs)("div",{className:"form-input",children:[Object(o.jsx)("input",Object(h.a)(Object(h.a)({},e),{},{type:n,placeholder:a,id:i})),r&&s&&Object(o.jsx)("span",{style:{fontSize:"10px",color:"red",display:"block"},children:s})]})},M=n(6),H=n(89),D=n.n(H),E=n(90),T=n(210),A={AllHotdogs:[],showModal:!1},U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g:return Object(h.a)(Object(h.a)({},t),{},{AllHotdogs:e.payload});case x:return Object(h.a)(Object(h.a)({},t),{},{showModal:e.payload});default:return t}},F=Object(M.c)({hotdogs:U,form:T.a}),L=[D.a,E.a],B=Object(M.d)(F,M.a.apply(void 0,L)),J=function(t,e){var n=B.getState().hotdogs.AllHotdogs,o={};return t.name?t.name.length<3?o.name=" name should be > 2":n.find((function(n){var o=n.name,a=n.id;if(void 0===e.item)return o===t.name;var i=e.item.id;return o===t.name&&i!==a}))&&(o.name=" this name already in use"):o.name="name is required",t.title?t.title.length<3&&(o.title="title should be > 3"):o.title="title is required",t.image?t.image.length<3&&(o.image="image link should be > 3"):o.image="image link is required",o},P=(n(166),Object(N.a)({form:"UpdateForm",validate:J,enableReinitialize:!0,destroyOnUnmount:!1})((function(t){var e=t.handleSubmit,n=(t.reset,t.pristine,t.submitting,t.valid,t.cancelEdit),a=t.onDelete;return Object(o.jsxs)("form",{className:"form-update",onSubmit:e,children:[Object(o.jsx)(S.a,{name:"name",type:"text",id:"name",placeholder:"name",component:C}),Object(o.jsx)(S.a,{name:"title",type:"text",id:"title",component:C,placeholder:"title"}),Object(o.jsx)(S.a,{name:"image",type:"text",id:"image",component:C,placeholder:"image-link"}),Object(o.jsx)(S.a,{name:"description",type:"text",id:"description",component:"textarea",placeholder:"description"}),Object(o.jsx)(j,{form:!0,type:"submit",onClick:function(t){return e(t)},children:"Update"}),Object(o.jsx)(j,{form:!0,type:"button",onClick:function(){return a()},children:"Delete"}),Object(o.jsx)(j,{form:!0,type:"button",onClick:function(){return n()},children:"Cancel"})]})}))),q=(n(204),function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(t){var o;return Object(d.a)(this,n),(o=e.call(this,t)).editClick=function(){o.setState({showUpdate:!0})},o.cancelEdit=function(t){o.setState({showUpdate:t})},o.handleSubmit=function(t){o.props.updateHotdog(Object(h.a)(Object(h.a)({},t),{},{id:o.props.item.id})),o.setState({showUpdate:!1})},o.handleDelete=function(){o.props.deleteHotdog(o.props.item.id)},o.state={showUpdate:!1},o}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props.item,n=e.name,a=e.title,i=e.description,c=e.image;return Object(o.jsxs)("div",{className:"hotdog-item-wrap",children:[Object(o.jsx)("div",{className:"hotdog-item-picture",style:{backgroundImage:"url(".concat(c,")")}}),this.state.showUpdate?Object(o.jsx)(P,{initialValues:{name:n,title:a,description:i,image:c},item:this.props.item,onSubmit:function(e){return t.handleSubmit(e)},cancelEdit:this.cancelEdit,onDelete:function(e){return t.handleDelete(e)}}):Object(o.jsxs)("div",{className:"description-wrap",children:[Object(o.jsx)("span",{className:"hotdog-item-name",children:n}),Object(o.jsx)("span",{className:"hotdog-item-price",children:a}),Object(o.jsx)("p",{className:"hotdog-item-description",children:i}),Object(o.jsx)(j,{onClick:this.editClick,style:{marginTop:"auto"},children:"Edit"})," "]})]})}}]),n}(i.a.Component)),G=Object(s.b)(null,(function(t){return{updateHotdog:function(e){return t((n=e,console.log(n,"updatehotdog"),function(){var t=Object(O.a)(f.a.mark((function t(e){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(v,"/").concat(n.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(t){return t.json()}));case 2:e(w);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));var n},deleteHotDog:function(e){return t(function(t){return function(){var e=Object(O.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v,"/").concat(t),{method:"DELETE"}).then((function(t){return t.json()}));case 2:n(w);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))(q),I=Object(s.b)((function(t){return{AllHotdogs:t.hotdogs.AllHotdogs}}))((function(t){var e=t.AllHotdogs;return Object(o.jsxs)("div",{className:"hotdogs-wrapper",children:[Object(o.jsx)("div",{className:"hotdogs-header",children:Object(o.jsx)("h3",{children:"All hot-dogs"})}),Object(o.jsx)("div",{className:"hotdogs-container",children:e.map((function(t){return Object(o.jsx)(G,{item:t},t.id)}))})]})})),V=n(43),z=(n(205),Object(N.a)({form:"ModalForm",validate:J,destroyOnUnmount:!1})((function(t){var e=t.handleSubmit,n=(t.reset,t.pristine,t.submitting,t.valid,t.handleModal);return Object(o.jsxs)("form",{className:"form-modal",onSubmit:e,children:[Object(o.jsx)(S.a,{name:"name",type:"text",id:"name",placeholder:"name",component:C}),Object(o.jsx)(S.a,{name:"title",type:"text",id:"title",component:C,placeholder:"title"}),Object(o.jsx)(S.a,{name:"image",type:"text",id:"image",component:C,placeholder:"image-link"}),Object(o.jsx)(S.a,{name:"description",type:"text",id:"description",component:"textarea",placeholder:"description"}),Object(o.jsxs)("div",{className:"buttons-modal",children:[Object(o.jsx)(j,{type:"button",inverted:!0,onClick:function(){return n()},children:"No thanks"}),Object(o.jsx)(j,{type:"submit",inverted:!0,children:"Add"})]})]})}))),_=(n(206),function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(t){var o;return Object(d.a)(this,n),(o=e.call(this,t)).handleChange=function(t){var e=t.target,n=e.value,a=e.name;o.setState(Object(V.a)({},a,n)),o.validateForm()},o.hasError=function(t){return 0!==t.length?"":"has-error"},o.handleModal=function(){o.props.toggleModal(!1)},o.state={name:"",title:"",description:"",image:"",formValid:!1},o}return Object(l.a)(n,[{key:"validateForm",value:function(){var t=this.state.name.length&&this.state.description.length;this.setState({formValid:Boolean(t)})}},{key:"handleSubmit",value:function(t){console.log(t,"successss"),this.props.createHotdog(t),this.props.toggleModal(!1)}},{key:"render",value:function(){var t=this;return this.props.showModal?Object(o.jsxs)("div",{children:[Object(o.jsx)("div",{className:"modal-bg",children:" "}),Object(o.jsx)(z,{handleModal:this.handleModal,onSubmit:function(e){return t.handleSubmit(e)}})]}):null}}]),n}(i.a.Component)),R=Object(s.b)((function(t){return{showModal:t.hotdogs.showModal}}),(function(t){return{toggleModal:function(e){return t(y(e))},createHotdog:function(e){return t(function(t){return function(){var e=Object(O.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()}));case 2:n(w);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))(_),K=function(t){Object(u.a)(n,t);var e=Object(p.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchHotDogs()}},{key:"render",value:function(){return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(k,{}),Object(o.jsx)(R,{}),Object(o.jsx)(I,{})]})}}]),n}(i.a.Component),Q=Object(s.b)(null,(function(t){return{fetchHotDogs:function(){return t(w)}}}))(K),W=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,211)).then((function(e){var n=e.getCLS,o=e.getFID,a=e.getFCP,i=e.getLCP,c=e.getTTFB;n(t),o(t),a(t),i(t),c(t)}))};r.a.render(Object(o.jsx)(s.a,{store:B,children:Object(o.jsx)(Q,{})}),document.getElementById("root")),W()},97:function(t,e,n){}},[[207,1,2]]]);
//# sourceMappingURL=main.cceef5a9.chunk.js.map